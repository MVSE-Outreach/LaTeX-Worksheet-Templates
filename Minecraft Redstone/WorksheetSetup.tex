\usepackage{graphicx,geometry,hyperref,enumitem,nicefrac,extsizes,color,nameref,calc,textcomp,csquotes,setspace,titlesec}

\hypersetup{
    pdfborder={0 0 0}
}

% Important: This must come near the start of the setup file

\makeatletter
\newcommand*{\currentname}{\@currentlabelname}
\makeatother

\makeatletter
\def\normaljustify{%
  \let\\\@centercr\rightskip\z@skip \leftskip\z@skip%
  \parfillskip=0pt plus 1fil}
\makeatother

\setlength\parindent{0pt}
\setlength{\parskip}{\baselineskip}
\setcounter{secnumdepth}{2}
\setlength{\fboxsep}{0.4cm}
\setlength{\fboxrule}{0.04cm}

\definecolor{niceblue}{RGB}{166,218,255}
\definecolor{nicebluedark}{RGB}{0,104,179}
\definecolor{nicegreen}{RGB}{202,255,166}
\definecolor{nicegreendark}{RGB}{71,179,0}
\definecolor{nicered}{RGB}{255,166,166}
\definecolor{nicereddark}{RGB}{179,0,0}
\definecolor{niceyellow}{RGB}{255,254,166}
\definecolor{niceyellowdark}{RGB}{219,216,0}

\newcommand{\sectionbreak}{\clearpage}

\newcommand{\actioncol}{niceblue}
\newcommand{\notecol}{nicered}
\newcommand{\questioncol}{niceyellow}
\newcommand{\goalcol}{nicegreen}

\newcommand{\group}[1]{
    \begin{center}
    \parbox[c]{\linewidth} {
    	#1
    }
    \end{center}
}

\newcommand{\colourbox}[2]{
    \begin{center}
    \fcolorbox{#1dark}{#1}{
    	\parbox[c]{.9\linewidth} {
    	    #2 
    	}
    }
    \end{center}
}

\newcommand{\numberlist}[2][]{
    \begin{enumerate}[series=#1]
    	#2
    \end{enumerate}
    \vspace{-\topsep}
}

\newcommand{\resumenumberlist}[2]{
    \begin{enumerate}[resume=#1]
    	#2
    \end{enumerate}
    \vspace{-\topsep}
}

\newcommand{\itemlist}[1]{
    \begin{itemize}
    	#1
    \end{itemize}
    \vspace{-\topsep}
}

\newcommand{\valuelist}[2]{
    \begin{description}[align=left,labelwidth=*,leftmargin=#1]
    	#2
    \end{description}
}

\newcommand{\actions}[2][\currentname acs]{
    \colourbox{\actioncol}{ 
    	{\small\color{\actioncol dark} Actions}
    	\resumenumberlist{ #1 }{ #2 }
    }
}

\newcommand{\restartactions}[2][\currentname acs]{
    \colourbox{\actioncol}{ 
    	{\small\color{\actioncol dark} Actions}
    	\numberlist[#1]{ #2 } 
    }
}

\newcommand{\notes}[1]{
    \colourbox{\notecol}{ 
    	{\small\color{\notecol dark} Notes}\par
    	#1
    }
}

\newcommand{\questions}[2][questions]{
    \colourbox{\questioncol}{ 
    	{\small\color{\questioncol dark} Questions}
    	\resumenumberlist{ #1 }{ #2 } 
    }
}
\newcommand{\restartquestions}[2][questions]{
    \colourbox{\questioncol}{ 
    	{\small\color{\questioncol dark} Questions}
    	\numberlist[#1]{ #2 } 
    }
}
\newcommand{\goals}[1]{
    \colourbox{\goalcol}{ 
    	{\small\color{\goalcol dark} Goals}\par
    	#1 
    }
}

\newcommand{\boxesdescription}{
    \vspace{-\topsep}
    \begin{description}[align=left,labelwidth=*,leftmargin=3cm]
    	\item [{\color{\actioncol dark}Actions}] Stuff for you to do. They are highlighted in blue.
    	
    	\item [{\color{\notecol dark}Notes}] Notes about important stuff you need to be aware of (and possibly remember!). They are highlighted in red.
    	
    	\item [{\color{\questioncol dark} Questions}] Questions you should try to answer. Sometimes you'll need to write things down; other times you'll need to build something in the game. They are highlighted in yellow.

    	{\bfseries Ask a helper or the teacher to check your answers.}
    	
    	\item [{\color{\goalcol dark} Goals}] Stuff you should have completed at the end of each section. They are highlighted in green.
    \end{description}
}

\newcommand{\screenshot}[3][.9\linewidth-0.8cm]{
    \group {
        \begin{center}
            \includegraphics[width=#1]{img/screenshots/#2}\par
            {\small #3}
        \end{center}
    }
}

\newcommand{\image}[3][.9\linewidth-0.8cm]{
    \group {
        \begin{center}
            \includegraphics[width=#1]{img/other/#2}\par
            {\small #3}
        \end{center}
    }
}

\newcommand{\todo}[1]{
    \image[7cm]{todo}{#1}
}

\newcommand{\spacer}{
    \par\vspace{14pt}
}
